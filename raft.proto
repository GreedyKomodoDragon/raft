syntax = "proto3";

option go_package = "./raft";

package raft;

// Interface exported by the server.
service RaftService {
   rpc GetStatus(StatusRequest) returns (StatusResult) {}
   rpc RequestVotes(RequestVotesRequest) returns (RequestVotesResult) {}
   rpc AppendEntries(stream AppendEntriesRequest) returns (AppendEntriesResult) {} 
   rpc HeartBeat(stream HeartBeatRequest) returns (HeartBeatResult) {} 
}

message StatusRequest {}

message StatusResult {
   bytes status = 1;
}
  
message RequestVotesRequest {
   uint64 term = 1;
}

message RequestVotesResult {
   bool voted = 1;
}

message AppendEntriesRequest {
   uint64 term = 1;
   bytes  type = 2;
   bytes  data = 3;
}

message AppendEntriesResult {
   bool applied = 1;
}

message HeartBeatRequest {
}
 
message HeartBeatResult {
}